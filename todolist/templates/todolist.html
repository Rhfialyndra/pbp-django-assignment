{% extends 'base.html' %}

{% block content %}
<script src="https://cdn.tailwindcss.com"></script>
<main class="max-w-screen min-h-screen flex justify-center">
<div class="w-[90vw] md:w-[60vw] relative mt-10">
<h5 class="text-3xl">Halo, <span>{{nama}}</span> </h5>

{% if size %}
	<div class="w-full my-4 flex flex-col items-center gap-y-4">
	{% for todo in todo_list %}
		<div class="card w-full lg:w-[500px] bg-base-100 shadow-xl transform transition hover:scale-105 hover:bg-opacity-70 duration-200 cursor-pointer">
		  <div class="card-body p-4 md:p-6 relative">
		  <label for={{todo.id}} class=" text-xl text-red-500 absolute right-2 top-2 md:right-5 md:top-4 px-3 py-1 hover:bg-gray-200 rounded-md transition duration-100 cursor-pointer">X</label>
			<h2 class="card-title text-[18px] md:text-xl">{{todo.title}}</h2>
			<p class="font-bold text-gray-600 text-[12px]">{{todo.date}}</p>
			<p class='text-[13px] md:text-[15px]'>{{todo.description}}</p>
			 {% if todo.is_finished %}
			<svg class="w-6 h-6 text-violet-600 absolute left-2 botton-2 md:left-5 md:bottom-6" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
				width="48" height="48"
				viewBox="0 0 24 24"
				style=" fill:#000000;">    <path d="M 12 2 C 6.486 2 2 6.486 2 12 C 2 17.514 6.486 22 12 22 C 17.514 22 22 17.514 22 12 C 22 10.874 21.803984 9.7942031 21.458984 8.7832031 L 19.839844 10.402344 C 19.944844 10.918344 20 11.453 20 12 C 20 16.411 16.411 20 12 20 C 7.589 20 4 16.411 4 12 C 4 7.589 7.589 4 12 4 C 13.633 4 15.151922 4.4938906 16.419922 5.3378906 L 17.851562 3.90625 C 16.203562 2.71225 14.185 2 12 2 z M 21.292969 3.2929688 L 11 13.585938 L 7.7070312 10.292969 L 6.2929688 11.707031 L 11 16.414062 L 22.707031 4.7070312 L 21.292969 3.2929688 z"></path></svg>
			{% endif %}
			<div class="card-actions justify-end">
			  {% if todo.is_finished %}
				<a class="underline hover:no-underline text-slate-800 hover:bg-gray-200 transition duration-100 rounded-md p-2 px-2 text-[14px] md:text-[16px] " href="{% url 'todolist:update_task' todo.id %}">Mark undone</a>
			{% else %}
				<a class="underline hover:no-underline  hover:bg-gray-200 transition duration-100 rounded-md p-2 px-2"  href="{% url 'todolist:update_task' todo.id %}">Mark as done!</a>
			{% endif %}
			</div>
		  </div>
		</div>
		<input type="checkbox" id={{todo.id}} class="modal-toggle" />
		<div class="modal modal-bottom sm:modal-middle">
		  <div class="modal-box flex flex-col items-center">
			<h3 class="font-bold text-lg">Deleted task can't be restored</h3>
			<h2 class=" text-lg">Are you sure?</h2>
			<div class="modal-action mt-10">
			  <a href="{% url 'todolist:delete_task' todo.id %}" class="btn bg-red-500 text-white hover:bg-red-600">delete</a>
			  <label for={{todo.id}} class="btn bg-white text-red-500">cancel</label>
			</div>
		  </div>
		</div>
	{% endfor %}
{% else %}
<p class="text-2xl text-slate-700 font-bold text-center my-20"> Kamu belum punya todo list, yukk mulai buat!</p>
{% endif %}
<div class="w-full flex justify-center mt-10">
	<a class="px-4 py-2 rounded-md border border-gray-800 hover:bg-gray-200" href="{% url 'todolist:create_task' %}">Buat todo!</a>
</div>
<button class="text-center"></button>
</div>
</main>

{% endblock content %}